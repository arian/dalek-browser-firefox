<!DOCTYPE html>  <html> <head>   <title>interaction.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="index.html">                 index.js               </a>                                           <a class="source" href="cookie.html">                 cookie.js               </a>                                           <a class="source" href="element.html">                 element.js               </a>                                           <a class="source" href="execute.html">                 execute.js               </a>                                           <a class="source" href="frame.html">                 frame.js               </a>                                           <a class="source" href="ime.html">                 ime.js               </a>                                           <a class="source" href="interaction.html">                 interaction.js               </a>                                           <a class="source" href="page.html">                 page.js               </a>                                           <a class="source" href="screenshot.html">                 screenshot.js               </a>                                           <a class="source" href="session.html">                 session.js               </a>                                           <a class="source" href="storage.html">                 storage.js               </a>                                           <a class="source" href="timeout.html">                 timeout.js               </a>                                           <a class="source" href="url.html">                 url.js               </a>                                           <a class="source" href="window.html">                 window.js               </a>                                           <a class="source" href="cookie.html">                 cookie.js               </a>                                           <a class="source" href="element.html">                 element.js               </a>                                           <a class="source" href="execute.html">                 execute.js               </a>                                           <a class="source" href="frame.html">                 frame.js               </a>                                           <a class="source" href="ime.html">                 ime.js               </a>                                           <a class="source" href="interaction.html">                 interaction.js               </a>                                           <a class="source" href="log.html">                 log.js               </a>                                           <a class="source" href="page.html">                 page.js               </a>                                           <a class="source" href="screenshot.html">                 screenshot.js               </a>                                           <a class="source" href="session.html">                 session.js               </a>                                           <a class="source" href="storage.html">                 storage.js               </a>                                           <a class="source" href="timeout.html">                 timeout.js               </a>                                           <a class="source" href="url.html">                 url.js               </a>                                           <a class="source" href="window.html">                 window.js               </a>                                           <a class="source" href="marionette.html">                 marionette.js               </a>                                           <a class="source" href="webdriver.html">                 webdriver.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               interaction.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="cm">/*!</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2013 Sebastian Golasch</span>
<span class="cm"> *</span>
<span class="cm"> * Permission is hereby granted, free of charge, to any person obtaining a</span>
<span class="cm"> * copy of this software and associated documentation files (the &quot;Software&quot;),</span>
<span class="cm"> * to deal in the Software without restriction, including without limitation</span>
<span class="cm"> * the rights to use, copy, modify, merge, publish, distribute, sublicense,</span>
<span class="cm"> * and/or sell copies of the Software, and to permit persons to whom the</span>
<span class="cm"> * Software is furnished to do so, subject to the following conditions:</span>
<span class="cm"> *</span>
<span class="cm"> * The above copyright notice and this permission notice shall be included</span>
<span class="cm"> * in all copies or substantial portions of the Software.</span>
<span class="cm"> *</span>
<span class="cm"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS</span>
<span class="cm"> * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="cm"> * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL</span>
<span class="cm"> * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="cm"> * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING</span>
<span class="cm"> * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER</span>
<span class="cm"> * DEALINGS IN THE SOFTWARE.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cm">/**</span>
<span class="cm"> * Interaction related WebDriver endpoints</span>
<span class="cm"> * see [JsonWireProtocol](https://code.google.com/p/selenium/wiki/JsonWireProtocol)</span>
<span class="cm"> *</span>
<span class="cm"> * @module FirefoxDriver</span>
<span class="cm"> * @class Interaction</span>
<span class="cm"> * @namespace FirefoxDriver.Commands.WebDriver</span>
<span class="cm"> */</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">Driver</span><span class="p">)</span> <span class="p">{</span>

  <span class="cm">/**</span>
<span class="cm">   * Move the mouse by an offset of the specificed element.</span>
<span class="cm">   * If no element is specified, the move is relative to the current mouse cursor.</span>
<span class="cm">   * If an element is provided but no offset, the mouse will be moved to the center of the element.</span>
<span class="cm">   * If the element is not visible, it will be scrolled into view.</span>
<span class="cm">   *</span>
<span class="cm">   * @method moveto</span>
<span class="cm">   * @see https://code.google.com/p/selenium/wiki/JsonWireProtocol#POST_/session/:sessionId/moveto</span>
<span class="cm">   * @param {GET} sessionId ID of the session to route the command to</span>
<span class="cm">   * @param {POST} element Opaque ID assigned to the element to move to, as described in the WebElement JSON Object. If not specified or is null, the offset is relative to current position of the mouse.</span>
<span class="cm">   * @param {POST} xoffset X offset to move to, relative to the top-left corner of the element. If not specified, the mouse will move to the middle of the element.</span>
<span class="cm">   * @param {POST} yoffset Y offset to move to, relative to the top-left corner of the element. If not specified, the mouse will move to the middle of the element.</span>
<span class="cm">   */</span>

  <span class="nx">Driver</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;moveto&#39;</span><span class="p">,</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/session/:sessionId/moveto&#39;</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span><span class="p">,</span>
    <span class="nx">params</span><span class="o">:</span> <span class="p">{</span><span class="nx">element</span><span class="o">:</span> <span class="s1">&#39;element&#39;</span><span class="p">,</span> <span class="nx">xoffset</span><span class="o">:</span> <span class="s1">&#39;xoffset&#39;</span><span class="p">,</span> <span class="nx">yoffset</span><span class="o">:</span> <span class="s1">&#39;yoffset&#39;</span><span class="p">}</span>
  <span class="p">});</span>

  <span class="cm">/**</span>
<span class="cm">   * Click any mouse button (at the coordinates set by the last moveto command).</span>
<span class="cm">   * Note that calling this command after calling buttondown and before calling button up</span>
<span class="cm">   * (or any out-of-order interactions sequence) will yield undefined behaviour).</span>
<span class="cm">   *</span>
<span class="cm">   * @method clickPage</span>
<span class="cm">   * @see https://code.google.com/p/selenium/wiki/JsonWireProtocol#POST_/session/:sessionId/click</span>
<span class="cm">   * @param {GET} sessionId ID of the session to route the command to</span>
<span class="cm">   * @param {POST} button Which button, enum: {LEFT = 0, MIDDLE = 1 , RIGHT = 2}. Defaults to the left mouse button if not specified.</span>
<span class="cm">   */</span>

  <span class="nx">Driver</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;clickPage&#39;</span><span class="p">,</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/session/:sessionId/click&#39;</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span><span class="p">,</span>
    <span class="nx">params</span><span class="o">:</span> <span class="p">{</span><span class="nx">button</span><span class="o">:</span> <span class="s1">&#39;button&#39;</span><span class="p">}</span>
  <span class="p">});</span>

  <span class="cm">/**</span>
<span class="cm">   * Click and hold the left mouse button (at the coordinates set by the last moveto command).</span>
<span class="cm">   * Note that the next mouse-related command that should follow is buttonup.</span>
<span class="cm">   * Any other mouse command (such as click or another call to buttondown) will yield undefined behaviour.</span>
<span class="cm">   *</span>
<span class="cm">   * @method buttondown</span>
<span class="cm">   * @see https://code.google.com/p/selenium/wiki/JsonWireProtocol#POST_/session/:sessionId/buttondown</span>
<span class="cm">   * @param {GET} sessionId ID of the session to route the command to</span>
<span class="cm">   * @param {POST} button Which button, enum: {LEFT = 0, MIDDLE = 1 , RIGHT = 2}. Defaults to the left mouse button if not specified.</span>
<span class="cm">   */</span>

  <span class="nx">Driver</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;buttondown&#39;</span><span class="p">,</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/session/:sessionId/buttondown&#39;</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span><span class="p">,</span>
    <span class="nx">params</span><span class="o">:</span> <span class="p">{</span><span class="nx">button</span><span class="o">:</span> <span class="s1">&#39;button&#39;</span><span class="p">}</span>
  <span class="p">});</span>

  <span class="cm">/**</span>
<span class="cm">   * Releases the mouse button previously held (where the mouse is currently at).</span>
<span class="cm">   * Must be called once for every buttondown command issued.</span>
<span class="cm">   * See the note in click and buttondown about implications of out-of-order commands.</span>
<span class="cm">   *</span>
<span class="cm">   * @method buttonup</span>
<span class="cm">   * @see https://code.google.com/p/selenium/wiki/JsonWireProtocol#POST_/session/:sessionId/buttonup</span>
<span class="cm">   * @param {GET} sessionId ID of the session to route the command to</span>
<span class="cm">   * @param {POST} button Which button, enum: {LEFT = 0, MIDDLE = 1 , RIGHT = 2}. Defaults to the left mouse button if not specified.</span>
<span class="cm">   */</span>

  <span class="nx">Driver</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;buttonup&#39;</span><span class="p">,</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/session/:sessionId/buttonup&#39;</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span><span class="p">,</span>
    <span class="nx">params</span><span class="o">:</span> <span class="p">{</span><span class="nx">button</span><span class="o">:</span> <span class="s1">&#39;button&#39;</span><span class="p">}</span>
  <span class="p">});</span>

  <span class="cm">/**</span>
<span class="cm">   * Double-clicks at the current mouse coordinates (set by moveto).</span>
<span class="cm">   *</span>
<span class="cm">   * @method doubleclickPage</span>
<span class="cm">   * @see https://code.google.com/p/selenium/wiki/JsonWireProtocol#POST_/session/:sessionId/doubleclick</span>
<span class="cm">   * @param {GET} sessionId ID of the session to route the command to</span>
<span class="cm">   */</span>

  <span class="nx">Driver</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;doubleclickPage&#39;</span><span class="p">,</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/session/:sessionId/doubleclick&#39;</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span>
  <span class="p">});</span>

  <span class="cm">/**</span>
<span class="cm">   * Single tap on the touch enabled device.</span>
<span class="cm">   *</span>
<span class="cm">   * @method tap</span>
<span class="cm">   * @see https://code.google.com/p/selenium/wiki/JsonWireProtocol#POST_/session/:sessionId/touch/click</span>
<span class="cm">   * @param {GET} sessionId ID of the session to route the command to</span>
<span class="cm">   */</span>

  <span class="nx">Driver</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;tap&#39;</span><span class="p">,</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/session/:sessionId/touch/click&#39;</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span>
  <span class="p">});</span>

  <span class="cm">/**</span>
<span class="cm">   * Finger down on the screen.</span>
<span class="cm">   *</span>
<span class="cm">   * @method touchdown</span>
<span class="cm">   * @see https://code.google.com/p/selenium/wiki/JsonWireProtocol#POST_/session/:sessionId/touch/down</span>
<span class="cm">   * @param {GET} sessionId ID of the session to route the command to</span>
<span class="cm">   * @param {POST} x X coordinate on the screen.</span>
<span class="cm">   * @param {POST} y Y coordinate on the screen.</span>
<span class="cm">   */</span>

  <span class="nx">Driver</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;touchdown&#39;</span><span class="p">,</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/session/:sessionId/touch/down&#39;</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span><span class="p">,</span>
    <span class="nx">params</span><span class="o">:</span> <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="s1">&#39;y&#39;</span><span class="p">}</span>
  <span class="p">});</span>

  <span class="cm">/**</span>
<span class="cm">   * Finger up on the screen.</span>
<span class="cm">   *</span>
<span class="cm">   * @method touchup</span>
<span class="cm">   * @see https://code.google.com/p/selenium/wiki/JsonWireProtocol#POST_/session/:sessionId/touch/up</span>
<span class="cm">   * @param {GET} sessionId ID of the session to route the command to</span>
<span class="cm">   * @param {POST} x X coordinate on the screen.</span>
<span class="cm">   * @param {POST} y Y coordinate on the screen.</span>
<span class="cm">   */</span>

  <span class="nx">Driver</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;touchup&#39;</span><span class="p">,</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/session/:sessionId/touch/up&#39;</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span><span class="p">,</span>
    <span class="nx">params</span><span class="o">:</span> <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="s1">&#39;y&#39;</span><span class="p">}</span>
  <span class="p">});</span>

  <span class="cm">/**</span>
<span class="cm">   * Finger move on the screen.</span>
<span class="cm">   *</span>
<span class="cm">   * @method touchmove</span>
<span class="cm">   * @see https://code.google.com/p/selenium/wiki/JsonWireProtocol#POST_/session/:sessionId/touch/move</span>
<span class="cm">   * @param {GET} sessionId ID of the session to route the command to</span>
<span class="cm">   * @param {POST} x X coordinate on the screen.</span>
<span class="cm">   * @param {POST} y Y coordinate on the screen.</span>
<span class="cm">   */</span>

  <span class="nx">Driver</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;touchmove&#39;</span><span class="p">,</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/session/:sessionId/touch/move&#39;</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span><span class="p">,</span>
    <span class="nx">params</span><span class="o">:</span> <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="s1">&#39;y&#39;</span><span class="p">}</span>
  <span class="p">});</span>

  <span class="cm">/**</span>
<span class="cm">   * Scroll on the touch screen using finger based motion events.</span>
<span class="cm">   * Use this command if you don&#39;t care where the scroll starts on the screen.</span>
<span class="cm">   *</span>
<span class="cm">   * @method touchscroll</span>
<span class="cm">   * @see https://code.google.com/p/selenium/wiki/JsonWireProtocol#POST_/session/:sessionId/touch/scroll</span>
<span class="cm">   * @param {GET} sessionId ID of the session to route the command to</span>
<span class="cm">   * @param {POST} x X coordinate on the screen.</span>
<span class="cm">   * @param {POST} y Y coordinate on the screen.</span>
<span class="cm">   */</span>

  <span class="nx">Driver</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;touchscroll&#39;</span><span class="p">,</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/session/:sessionId/touch/scroll&#39;</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span><span class="p">,</span>
    <span class="nx">params</span><span class="o">:</span> <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="s1">&#39;y&#39;</span><span class="p">}</span>
  <span class="p">});</span>

  <span class="cm">/**</span>
<span class="cm">   * Double tap on the touch screen using finger motion events.</span>
<span class="cm">   *</span>
<span class="cm">   * @method doubletap</span>
<span class="cm">   * @see https://code.google.com/p/selenium/wiki/JsonWireProtocol#POST_/session/:sessionId/touch/doubleclick</span>
<span class="cm">   * @param {GET} sessionId ID of the session to route the command to</span>
<span class="cm">   */</span>

  <span class="nx">Driver</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;doubletap&#39;</span><span class="p">,</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/session/:sessionId/touch/doubleclick&#39;</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span>
  <span class="p">});</span>

  <span class="cm">/**</span>
<span class="cm">   * Long press on the touch screen using finger motion events.</span>
<span class="cm">   *</span>
<span class="cm">   * @method longpress</span>
<span class="cm">   * @see https://code.google.com/p/selenium/wiki/JsonWireProtocol#POST_/session/:sessionId/touch/longclick</span>
<span class="cm">   * @param {GET} sessionId ID of the session to route the command to</span>
<span class="cm">   */</span>

  <span class="nx">Driver</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;longpress&#39;</span><span class="p">,</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/session/:sessionId/touch/longclick&#39;</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span>
  <span class="p">});</span>

  <span class="cm">/**</span>
<span class="cm">   * Flick on the touch screen using finger motion events.</span>
<span class="cm">   * This flickcommand starts at a particulat screen location.</span>
<span class="cm">   *</span>
<span class="cm">   * @method flick</span>
<span class="cm">   * @see https://code.google.com/p/selenium/wiki/JsonWireProtocol#POST_/session/:sessionId/touch/flick</span>
<span class="cm">   * @param {GET} sessionId ID of the session to route the command to</span>
<span class="cm">   * @param {POST} element ID of the element where the flick starts</span>
<span class="cm">   * @param {POST} xoffset The x offset in pixels to flick by</span>
<span class="cm">   * @param {POST} yoffset The y offset in pixels to flick by</span>
<span class="cm">   * @param {POST} speed The speed in pixels per seconds</span>
<span class="cm">   */</span>

  <span class="nx">Driver</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;flick&#39;</span><span class="p">,</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/session/:sessionId/touch/flick&#39;</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span><span class="p">,</span>
    <span class="nx">params</span><span class="o">:</span> <span class="p">{</span><span class="nx">element</span><span class="o">:</span> <span class="s1">&#39;element&#39;</span><span class="p">,</span> <span class="nx">xoffset</span><span class="o">:</span> <span class="s1">&#39;xoffset&#39;</span><span class="p">,</span> <span class="nx">yoffset</span><span class="o">:</span> <span class="s1">&#39;yoffset&#39;</span> <span class="p">,</span> <span class="nx">speed</span><span class="o">:</span> <span class="s1">&#39;speed&#39;</span><span class="p">}</span>
  <span class="p">});</span>

<span class="p">};</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 